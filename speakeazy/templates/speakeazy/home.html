{% extends "base.html" %}
{% load static %}{% load i18n %}
{% block title %}Home{% endblock %}

{% block breadcrumbs %}
    <li class="uk-active"><span>home</span></li>
{% endblock %}

{% block content %}
    <div id="home" class="">

        <div id="upcoming-projects" class="uk-block">
            <h2><a href="{% url 'projects:projectList' %}">Projects</a></h2>

            {% if project_recent_list %}
                <h3>Recent</h3>

                <div class="uk-flex uk-grid">
                    {% for project in project_recent_list %}
                        <div class="uk-width-small-1-3 uk-width-medium-1-4 uk-width-large-1-6">
                            <a href="{% url 'projects:project:projectView' project.slug %}"
                               class="uk-panel uk-panel-box uk-panel-header">

                                <h3 class="uk-panel-title">{{ project.name }}</h3>

                                <div class="item-info">
                                    <div class="project-due-date">Due: {{ project.due_date | date:"D, d M Y" }}</div>
                                    <div class="project-recording-count">{{ project.recording_set.all | length }}</div>
                                </div>
                            </a>
                        </div>
                    {% endfor %}
                </div>
            {% endif %}

            {% if project_due_list %}
                <h3>Due Soon</h3>

                <div class="uk-flex uk-grid">
                    {% for project in project_due_list %}
                        <div class="uk-width-small-1-3 uk-width-medium-1-4 uk-width-large-1-6">
                            <a href="{% url 'projects:project:projectView' project.slug %}"
                               class="uk-panel uk-panel-box uk-panel-header">

                                <h3 class="uk-panel-title">{{ project.name }}</h3>

                                <div class="item-info">
                                    <div class="project-due-date">Due: {{ project.due_date | date:"D, d M Y" }}</div>
                                    <div class="project-recording-count">{{ project.recording_set.all | length }}</div>
                                </div>
                            </a>
                        </div>
                    {% endfor %}
                </div>
            {% endif %}
        </div>


        <div id="recent-recordings" class="uk-block">
            <h2><a>Recent Recordings</a></h2>

            <div class="uk-flex uk-grid">
                {% for recording in recording_list %}
                    <div class="uk-width-small-1-3 uk-width-medium-1-4 uk-width-large-1-6">
                        <a class=""
                           href="{% url 'projects:project:recordingView' recording.project.slug recording.slug %}">

                            <figure class="uk-overlay uk-overlay-hover">
                                <video class="" src="{{ recording.thumbnail_video.url }}"
                                       poster="{{ recording.thumbnail_image.url }}" loop></video>
                                <figcaption
                                        class="uk-overlay-panel uk-overlay-background uk-overlay-bottom uk-overlay-slide-bottom">
                                    {{ recording.project.name }} - {{ recording.slug }}
                                </figcaption>
                            </figure>
                        </a>
                    </div>
                {% endfor %}
            </div>
        </div>


        <div id="Groups" class="uk-block">
            <h2><a href="{% url 'groups:groupList' %}">Groups</a></h2>

            {#            <div class="uk-flex uk-grid">#}
            {#                {% for recording in group_list %}#}
            {#                    <div class="uk-width-small-1-3 uk-width-medium-1-4 uk-width-large-1-6">#}
            {#                        <a class="uk-panel uk-panel-box uk-panel-header">#}
            {#                            href="{% url 'projects:project:recordingView' recording.project.slug recording.slug %}">#}
            {#                            <h3 class="uk-panel-title">{{ recording.project.name }} - {{ recording.slug }}</h3>#}
            {##}
            {#                            <div class="item-info"></div>#}
            {#                        </a>#}
            {#                    </div>#}
            {#                {% endfor %}#}
            {#            </div>#}
        </div>

    </div>
{% endblock %}


{% block jquery %}
    <script src="{% static 'js/home.js' %}"></script>
{% endblock %}
