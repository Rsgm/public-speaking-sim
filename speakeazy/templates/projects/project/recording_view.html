{% extends "base.html" %}
{% load static %}{% load i18n %}
{% block title %}{{ recording.slug }}{% endblock %}

{% block content %}
    {% csrf_token %}

    <div id="recording-view" class="container">
        <div class="s-section">

            <h4 class="s-section-title">{{ recording.project.name }} - {{ recording.slug }}</h4>

            <div class="s-section-content">
                <div class="s-video">
                    {#                    <video src="{{ recording.video.url }}" autoplay></video>#}
                    <video class="s-video-element" src="http://media.w3.org/2010/05/sintel/trailer.webm"></video>

                    <div class="s-video-controls">
                        <a class="s-video-play">
                            <i class="fa fa-play"></i>
                            <i class="fa fa-pause"></i>
                        </a>

                        <div class="s-video-time">
                            <span class="s-video-position">0:00</span>/<span class="s-video-duration"></span>
                        </div>

                        <div class="s-video-slider">
                            <div class="s-video-points">
                                <div class="s-video-pointer fa fa-chevron-down"></div>

                                {% for point in point_list %}
                                    <div class="s-video-marker" data-position="{{ point.time }}">
                                        <div class="fa fa-caret-down fa-lg"></div>
                                        <div class="fa fa-caret-up fa-lg"></div>

                                        <div class="s-video-marker-container">

                                            {% for eval in point.eval_list %}
                                                <div class="s-video-eval fa {{ eval.type.fa_class }}"
                                                     style="background: #{{ eval.type.color }};">
                                                    <div class="s-video-eval-menu">
                                                        <div class="fa fa-caret-left"></div>
                                                        <div class="fa fa-caret-right"></div>

                                                        <div class="s-video-eval-content">
                                                            {{ eval.text }}
                                                        </div>
                                                    </div>
                                                </div>
                                            {% endfor %}

                                            <div class="s-video-eval-add fa fa-plus-square-o">
                                                <div class="s-video-eval-menu">
                                                    <div class="fa fa-caret-left"></div>
                                                    <div class="fa fa-caret-right"></div>

                                                    <div class="s-video-eval-add-types"></div>

                                                    <div class="s-video-eval-content">
                                                        <input type="text" title="Add evaluation">
                                                        <i class="fa fa-share-square"></i>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                {% endfor %}

                            </div>
                            <div class="s-video-slider-bar">
                                <div class="s-video-slider-played"></div>
                                <div class="s-video-slider-buffered"></div>
                            </div>
                        </div>

                        <a class="s-video-volume"><i class="fa fa-volume-up"></i></a>
                        <a class="s-video-fullscreen"><i class="fa fa-expand"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block template_scripts %}
    <script>
        var evaluationTypes = [
            {% for evaluation_type in evaluation_type_list %}
                {
                    'name': '{{ evaluation_type.name }}',
                    'color': '{{ evaluation_type.color }}',
                    'fa_class': '{{ evaluation_type.fa_class }}'
                },
            {% endfor %}
        ];
    </script>
{% endblock %}

{% block jquery %}
    <script src="{% static 'js/recording_view.js' %}"></script>
{% endblock %}
